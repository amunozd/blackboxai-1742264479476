<%- include('layout', { title: 'Bienvenido a la Biblioteca Digital' }) %>

<!-- Hero Section -->
<div class="relative bg-primary-800 overflow-hidden mb-12">
    <div class="max-w-7xl mx-auto">
        <div class="relative z-10 pb-8 bg-primary-800 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32">
            <main class="mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28">
                <div class="sm:text-center lg:text-left">
                    <h1 class="text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl">
                        <span class="block">Tu biblioteca</span>
                        <span class="block text-primary-300">digital al alcance</span>
                    </h1>
                    <p class="mt-3 text-base text-primary-100 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
                        Explora nuestra colección de libros, gestiona préstamos y descubre nuevas lecturas. Todo desde un solo lugar.
                    </p>
                    <div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start">
                        <div class="rounded-md shadow">
                            <a href="/books" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-primary-800 bg-white hover:bg-primary-50 md:py-4 md:text-lg md:px-10">
                                Ver Catálogo
                            </a>
                        </div>
                        <% if (!locals.user) { %>
                            <div class="mt-3 sm:mt-0 sm:ml-3">
                                <a href="/users/login" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 md:py-4 md:text-lg md:px-10">
                                    Iniciar Sesión
                                </a>
                            </div>
                        <% } %>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
        <img class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full" src="https://images.pexels.com/photos/1290141/pexels-photo-1290141.jpeg" alt="Biblioteca">
    </div>
</div>

<!-- Features Section -->
<div class="py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="lg:text-center">
            <h2 class="text-base text-primary-600 font-semibold tracking-wide uppercase">Características</h2>
            <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
                Una mejor manera de gestionar tu biblioteca
            </p>
        </div>

        <div class="mt-10">
            <div class="space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10">
                <!-- Feature 1 -->
                <div class="relative">
                    <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                        <i class="fas fa-search text-xl"></i>
                    </div>
                    <p class="ml-16 text-lg leading-6 font-medium text-gray-900">Búsqueda Avanzada</p>
                    <p class="mt-2 ml-16 text-base text-gray-500">
                        Encuentra rápidamente los libros que necesitas con nuestro sistema de búsqueda inteligente.
                    </p>
                </div>

                <!-- Feature 2 -->
                <div class="relative">
                    <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                        <i class="fas fa-book text-xl"></i>
                    </div>
                    <p class="ml-16 text-lg leading-6 font-medium text-gray-900">Gestión de Préstamos</p>
                    <p class="mt-2 ml-16 text-base text-gray-500">
                        Sistema automatizado para préstamos y devoluciones de libros.
                    </p>
                </div>

                <!-- Feature 3 -->
                <div class="relative">
                    <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                        <i class="fas fa-users text-xl"></i>
                    </div>
                    <p class="ml-16 text-lg leading-6 font-medium text-gray-900">Múltiples Roles</p>
                    <p class="mt-2 ml-16 text-base text-gray-500">
                        Diferentes niveles de acceso para bibliotecarios, docentes y alumnos.
                    </p>
                </div>

                <!-- Feature 4 -->
                <div class="relative">
                    <div class="absolute flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                        <i class="fas fa-chart-bar text-xl"></i>
                    </div>
                    <p class="ml-16 text-lg leading-6 font-medium text-gray-900">Estadísticas y Reportes</p>
                    <p class="mt-2 ml-16 text-base text-gray-500">
                        Seguimiento detallado del uso de la biblioteca y generación de informes.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Latest Books Section -->
<div class="bg-gray-50 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="lg:text-center mb-10">
            <h2 class="text-base text-primary-600 font-semibold tracking-wide uppercase">Novedades</h2>
            <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
                Últimas Adquisiciones
            </p>
        </div>

        <div class="grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:gap-x-8">
            <!-- Book cards will be dynamically inserted here -->
            <% if (typeof latestBooks !== 'undefined' && latestBooks.length > 0) { %>
                <% latestBooks.forEach(function(book) { %>
                    <div class="group relative">
                        <div class="w-full min-h-80 bg-gray-200 aspect-w-1 aspect-h-1 rounded-md overflow-hidden group-hover:opacity-75 lg:h-80 lg:aspect-none">
                            <img src="<%= book.cover_url || '/img/default-book.png' %>" 
                                 alt="<%= book.title %>" 
                                 class="w-full h-full object-center object-cover lg:w-full lg:h-full">
                        </div>
                        <div class="mt-4 flex justify-between">
                            <div>
                                <h3 class="text-sm text-gray-700">
                                    <a href="/books/<%= book.id %>">
                                        <span aria-hidden="true" class="absolute inset-0"></span>
                                        <%= book.title %>
                                    </a>
                                </h3>
                                <p class="mt-1 text-sm text-gray-500"><%= book.author %></p>
                            </div>
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <p class="text-gray-500 text-center col-span-full">No hay libros nuevos para mostrar.</p>
            <% } %>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="bg-primary-700">
    <div class="max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
            <span class="block">¿Listo para empezar?</span>
            <span class="block">Comienza a explorar nuestra biblioteca hoy.</span>
        </h2>
        <p class="mt-4 text-lg leading-6 text-primary-200">
            Accede a miles de recursos educativos y literarios en un solo lugar.
        </p>
        <a href="/books"
           class="mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-primary-700 bg-white hover:bg-primary-50 sm:w-auto">
            Explorar Catálogo
        </a>
    </div>
</div>